â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                     â”‚
â”‚  ğŸš€ GUÃA RÃPIDA: CREAR ÃNDICES EN SUPABASE                        â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“‹ PASOS PARA MEJORAR LA VELOCIDAD:

1. Ve a: https://supabase.com/dashboard
2. Selecciona tu proyecto
3. En el menÃº lateral, haz clic en "SQL Editor"
4. Copia y pega el siguiente cÃ³digo:

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

-- âš¡ ÃNDICES PARA MEJORAR PERFORMANCE
-- Estos Ã­ndices acelerarÃ¡n las consultas de 761ms a ~100-150ms

-- 1. Ãndice para buscar programas por categorÃ­a
CREATE INDEX IF NOT EXISTS idx_programas_categoria_id 
ON programas(categoria_id);

-- 2. Ãndice para relaciones programa-subcategorÃ­a (por programa)
CREATE INDEX IF NOT EXISTS idx_programas_subcategorias_programa_id 
ON programas_subcategorias(programa_id);

-- 3. Ãndice para relaciones programa-subcategorÃ­a (por subcategorÃ­a)
CREATE INDEX IF NOT EXISTS idx_programas_subcategorias_subcategoria_id 
ON programas_subcategorias(subcategoria_id);

-- 4. Ãndice para buscar programas por slug (URLs amigables)
CREATE INDEX IF NOT EXISTS idx_programas_slug 
ON programas(slug);

-- 5. Ãndice para buscar categorÃ­as por slug
CREATE INDEX IF NOT EXISTS idx_categorias_slug 
ON categorias(slug);

-- 6. Ãndice para buscar subcategorÃ­as por categorÃ­a padre
CREATE INDEX IF NOT EXISTS idx_categorias_id_categoria_padre 
ON categorias(id_categoria_padre);

-- 7. Ãndice para relaciones programa-modelos de precios
CREATE INDEX IF NOT EXISTS idx_programas_modelos_programa_id 
ON programas_modelos_de_precios(programa_id);

-- 8. Ãndice para relaciones programa-modelos de precios (por modelo)
CREATE INDEX IF NOT EXISTS idx_programas_modelos_modelo_id 
ON programas_modelos_de_precios(modelo_precio_id);

-- âœ… VERIFICAR QUE SE CREARON CORRECTAMENTE
SELECT 
    tablename,
    indexname,
    indexdef
FROM pg_indexes
WHERE schemaname = 'public'
AND tablename IN ('programas', 'programas_subcategorias', 'categorias', 'programas_modelos_de_precios')
ORDER BY tablename, indexname;

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

5. Haz clic en "RUN" (o presiona Ctrl+Enter)
6. DeberÃ­as ver: "Success. No rows returned"
7. Ejecuta de nuevo el diagnÃ³stico:
   
   npm run diagnose

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š RESULTADOS ESPERADOS:

ANTES:
â±ï¸  Consulta con relaciones: 761ms

DESPUÃ‰S:
â±ï¸  Consulta con relaciones: ~100-150ms

ğŸ¯ MEJORA ESPERADA: 80-85% mÃ¡s rÃ¡pido

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ Â¿POR QUÃ‰ ESTO MEJORA LA VELOCIDAD?

Los Ã­ndices son como un "Ã­ndice" de un libro. Sin ellos, Supabase
tiene que revisar TODAS las filas una por una (scan completo).

Con Ã­ndices, puede ir directamente a los datos que necesita.

Ejemplo:
- Sin Ã­ndice: Buscar 1 programa entre 200 = revisar 200 filas
- Con Ã­ndice: Buscar 1 programa entre 200 = ir directo (1 operaciÃ³n)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
